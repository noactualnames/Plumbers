unit cancelPlumberForm;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Vcl.ExtCtrls, Data.DB,
  IdTCPConnection, IdTCPClient, IdHTTP, FireDAC.Stan.Intf,
  FireDAC.Stan.Option, FireDAC.Stan.Param, FireDAC.Stan.Error, FireDAC.DatS,
  FireDAC.Phys.Intf, FireDAC.DApt.Intf, FireDAC.Stan.Async, FireDAC.DApt,
  FireDAC.Comp.DataSet, FireDAC.Comp.Client, System.JSON,
  REST.Backend.ServiceTypes, REST.Client, REST.Backend.EndPoint,
  Data.Bind.Components, Data.Bind.ObjectScope,
  Vcl.Grids, Vcl.DBGrids, operatorEntry;

type
  TcancelPlumber = class(TForm)
    Label1: TLabel;
    YesBtn: TButton;
    CancelBtn: TButton;
    procedure CancelBtnClick(Sender: TObject);
    procedure YesBtnClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  cancelPlumber: TcancelPlumber;

implementation

{$R *.dfm}

uses mainWindow;

procedure TcancelPlumber.CancelBtnClick(Sender: TObject);
begin
  cancelPlumber.Close;
end;

procedure TcancelPlumber.YesBtnClick(Sender: TObject);
var body: TJSONObject;
s:string;
      orderType, orderDesc, orderAddress, postJSON, orderDate, url:string;
      orderPrice:integer;
      orderPhone:int64;
      response1,resp:string;
      main, second, third:TJSONObject;
begin
//    main:=TJSONObject.Create;
//    second:=TJSONObject.Create;
//    third:=TJSONObject.Create;
//
//    main.AddPair('task','order');
//    main.AddPair('orderid',fmMainWindow.DBGrid2.Fields[0].Value '0');
//    main.AddPair('operatorid',TJSONNumber.Create(TOperatorEntry.opID));
//    second.AddPair('creation_date',orderDate);
//    second.AddPair('order_operator_id',TJSONNumber.Create(TOperatorEntry.opID));
//    second.AddPair('order_plumber_id','0');
//    main.AddPair('orderdata', second);
//    //orderinfo
//    third.AddPair('type',orderType);
//    third.AddPair('description',orderDesc);
//    third.AddPair('price',TJSONNumber.Create(orderPrice));
//    third.AddPair('phone',TJSONNumber.Create(orderPhone));
//    third.AddPair('address',orderAddress);
//    main.AddPair('orderinfodata',third);
//
//   dm.DataModule1.BackendEndpoint2.AddBody(main);
//   dm.DataModule1.BackendEndpoint2.Execute;
//   response1:=dm.DataModule1.RESTResponsePost.Content;
end;

end.
